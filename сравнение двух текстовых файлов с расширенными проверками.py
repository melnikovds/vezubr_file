# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–æ–π
def read_file(path):
    with open(path, 'r', encoding='utf-8-sig') as f:  # utf-8-sig —É–±–∏—Ä–∞–µ—Ç BOM
        lines = [line.strip() for line in f]  # strip() —É–±–∏—Ä–∞–µ—Ç –ø—Ä–æ–±–µ–ª—ã –∏ \r\n
        lines = [line for line in lines if line]  # —É–¥–∞–ª—è–µ–º –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏
        return lines


# –ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
list1 = read_file('file1.txt')
list2 = read_file('file2.txt')

print(f"–°—Ç—Ä–æ–∫ –≤ —Ñ–∞–π–ª–µ 1: {len(list1)}")
print(f"–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤ —Ñ–∞–π–ª–µ 1: {len(set(list1))}")
print(f"–î—É–±–ª–∏–∫–∞—Ç–æ–≤ –≤ —Ñ–∞–π–ª–µ 1: {len(list1) - len(set(list1))}")

print(f"\n–°—Ç—Ä–æ–∫ –≤ —Ñ–∞–π–ª–µ 2: {len(list2)}")
print(f"–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤ —Ñ–∞–π–ª–µ 2: {len(set(list2))}")
print(f"–î—É–±–ª–∏–∫–∞—Ç–æ–≤ –≤ —Ñ–∞–π–ª–µ 2: {len(list2) - len(set(list2))}")

# –ê–Ω–∞–ª–∏–∑ —Ä–∞–∑–ª–∏—á–∏–π
set1 = set(list1)
set2 = set(list2)

only_in_1 = set1 - set2
only_in_2 = set2 - set1

print(f"\n–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π (—Ç–æ–ª—å–∫–æ –≤ —Ñ–∞–π–ª–µ 1): {len(only_in_1)}")
print(f"–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π (—Ç–æ–ª—å–∫–æ –≤ —Ñ–∞–π–ª–µ 2): {len(only_in_2)}")

# –ï—Å–ª–∏ —Ä–∞–∑–ª–∏—á–∏–π –Ω–µ—Ç ‚Äî –ø–æ–∫–∞–∂–µ–º –ø—Ä–∏–º–µ—Ä—ã —Å—Ç—Ä–æ–∫ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
if len(only_in_1) == 0 and len(only_in_2) == 0:
    print("\n‚ö†Ô∏è  –§–∞–π–ª—ã —Å–æ–¥–µ—Ä–∂–∞—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –£–ù–ò–ö–ê–õ–¨–ù–´–ï –∑–Ω–∞—á–µ–Ω–∏—è!")
    print("   –í–µ—Ä–æ—è—Ç–Ω–æ, —Ä–∞–∑–Ω–∏—Ü–∞ –≤ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Å—Ç—Ä–æ–∫ –∏–∑-–∑–∞ –î–£–ë–õ–ò–ö–ê–¢–û–í.")
    print("\n–ü—Ä–∏–º–µ—Ä—ã –ø–µ—Ä–≤—ã—Ö 5 —Å—Ç—Ä–æ–∫ –∏–∑ –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞:")
    print("–§–∞–π–ª 1:", list1[:5])
    print("–§–∞–π–ª 2:", list2[:5])

    # –ü—Ä–æ–≤–µ—Ä–∏–º –Ω–∞ —Å–∫—Ä—ã—Ç—ã–µ —Å–∏–º–≤–æ–ª—ã –≤ –ø–µ—Ä–≤—ã—Ö —Å—Ç—Ä–æ–∫–∞—Ö
    print("\nüîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–∫—Ä—ã—Ç—ã–µ —Å–∏–º–≤–æ–ª—ã (–ø–µ—Ä–≤—ã–µ 3 —Å—Ç—Ä–æ–∫–∏):")
    for i in range(min(3, len(list1), len(list2))):
        print(f"–°—Ç—Ä–æ–∫–∞ {i + 1} —Ñ–∞–π–ª1: repr='{repr(list1[i])}'")
        print(f"–°—Ç—Ä–æ–∫–∞ {i + 1} —Ñ–∞–π–ª2: repr='{repr(list2[i])}'")
        if list1[i] != list2[i]:
            print(f"   ‚ö†Ô∏è  –°—Ç—Ä–æ–∫–∏ –ù–ï —Å–æ–≤–ø–∞–¥–∞—é—Ç!")

# –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–∞–∑–ª–∏—á–∏—è, –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å
if only_in_1 or only_in_2:
    with open('—Ä–µ–∑—É–ª—å—Ç–∞—Ç.txt', 'w', encoding='utf-8') as f:
        if only_in_1:
            f.write("–¢–æ–ª—å–∫–æ –≤ —Ñ–∞–π–ª–µ 1:\n")
            f.write('\n'.join(sorted(only_in_1)) + '\n\n')
        if only_in_2:
            f.write("–¢–æ–ª—å–∫–æ –≤ —Ñ–∞–π–ª–µ 2:\n")
            f.write('\n'.join(sorted(only_in_2)))
    print("\n‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ '—Ä–µ–∑—É–ª—å—Ç–∞—Ç.txt'")
else:
    print(
        "\nüí° –°–æ–≤–µ—Ç: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª—ã –Ω–∞ –¥—É–±–ª–∏–∫–∞—Ç—ã. –†–∞–∑–Ω–∏—Ü–∞ –≤ 28 —Å—Ç—Ä–æ–∫ (2346-2318) ‚Äî —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, —ç—Ç–æ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –∑–Ω–∞—á–µ–Ω–∏—è –≤–æ –≤—Ç–æ—Ä–æ–º —Ñ–∞–π–ª–µ.")